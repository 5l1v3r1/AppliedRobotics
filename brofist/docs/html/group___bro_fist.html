<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BROFist: BROFist Generic Data Types and Defines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BROFist Generic Data Types and Defines<br/>
<small>
[<a class="el" href="group___b_r_o_fist_server.html">BROFistServer</a>]</small>
</h1>
<p>This module declares the common data types for the project.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbro__fist__t.html">bro_fist_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The structure containing a "Fist" for the SPAM.  <a href="structbro__fist__t.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbro__spam__fists__t.html">bro_spam_fists_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The structure containing BUFFER_SIZE BROFists to send to the SPAM.  <a href="structbro__spam__fists__t.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga6312573a3fccab201c412ad9ba7bafe6">SERVER_PATH</a>&nbsp;&nbsp;&nbsp;&quot;/tmp/BROFist&quot;</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Server path for the UNIX socket.  <a href="#ga6312573a3fccab201c412ad9ba7bafe6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of simultaneous operations to send/recv.  <a href="#ga6b20d41d6252e9871430c242cb1a56e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga2bd586ea01c91051e9db186c12f4464b">BRO_END_COMMUNICATION</a>&nbsp;&nbsp;&nbsp;255</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The value that has to be sent to stop the server.  <a href="#ga2bd586ea01c91051e9db186c12f4464b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga49e05497cd12a38a0a1a78675025e3c7"></a><!-- doxytag: member="BroFist::MOTOR_A" ref="ga49e05497cd12a38a0a1a78675025e3c7" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga49e05497cd12a38a0a1a78675025e3c7">MOTOR_A</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Port A. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadd9a1e9dd6c4b0439da68e819a6a5c39"></a><!-- doxytag: member="BroFist::MOTOR_B" ref="gadd9a1e9dd6c4b0439da68e819a6a5c39" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#gadd9a1e9dd6c4b0439da68e819a6a5c39">MOTOR_B</a>&nbsp;&nbsp;&nbsp;6</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Port B. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacb6257980674f294ceabf61e0245770f"></a><!-- doxytag: member="BroFist::MOTOR_C" ref="gacb6257980674f294ceabf61e0245770f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#gacb6257980674f294ceabf61e0245770f">MOTOR_C</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Port C. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga381df6cc2c92e7935057f010fe949326"></a><!-- doxytag: member="BroFist::PORT_1" ref="ga381df6cc2c92e7935057f010fe949326" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga381df6cc2c92e7935057f010fe949326">PORT_1</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Port 1. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga64e474e5f8be468f8ec13a9869dd54d4"></a><!-- doxytag: member="BroFist::PORT_2" ref="ga64e474e5f8be468f8ec13a9869dd54d4" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga64e474e5f8be468f8ec13a9869dd54d4">PORT_2</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Port 2. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga04e76d8b6ae75c91eebf40147d8ef2d9"></a><!-- doxytag: member="BroFist::PORT_3" ref="ga04e76d8b6ae75c91eebf40147d8ef2d9" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga04e76d8b6ae75c91eebf40147d8ef2d9">PORT_3</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Port 3. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaaf1ce903d30a30c201b6ead4ec0c112b"></a><!-- doxytag: member="BroFist::PORT_4" ref="gaaf1ce903d30a30c201b6ead4ec0c112b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#gaaf1ce903d30a30c201b6ead4ec0c112b">PORT_4</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Port 4. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa207b28106c699a9fdd622dfd17ea6ca"></a><!-- doxytag: member="BroFist::LIGHT_SENSOR" ref="gaa207b28106c699a9fdd622dfd17ea6ca" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#gaa207b28106c699a9fdd622dfd17ea6ca">LIGHT_SENSOR</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Light Sensor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga07dfd45c90480d3fe7e3087b27fbae30"></a><!-- doxytag: member="BroFist::TOUCH_SENSOR" ref="ga07dfd45c90480d3fe7e3087b27fbae30" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga07dfd45c90480d3fe7e3087b27fbae30">TOUCH_SENSOR</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Touch Sensor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1d947f2b23c11298bc35257662b889d3"></a><!-- doxytag: member="BroFist::SOUND_SENSOR" ref="ga1d947f2b23c11298bc35257662b889d3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga1d947f2b23c11298bc35257662b889d3">SOUND_SENSOR</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Sound Sensor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa4c23c22caf8a93547a5ba985d60a933"></a><!-- doxytag: member="BroFist::RADAR_SENSOR" ref="gaa4c23c22caf8a93547a5ba985d60a933" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#gaa4c23c22caf8a93547a5ba985d60a933">RADAR_SENSOR</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Ultrasonic Distance Sensor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae2b68429d85a4e53be661aa29f5fad81"></a><!-- doxytag: member="BroFist::TACHO_COUNT" ref="gae2b68429d85a4e53be661aa29f5fad81" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#gae2b68429d85a4e53be661aa29f5fad81">TACHO_COUNT</a>&nbsp;&nbsp;&nbsp;6</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for RAW Tachometric Count. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga102b03f1e7083e6ec238c864fc438e18"></a><!-- doxytag: member="BroFist::AVG_SPEED" ref="ga102b03f1e7083e6ec238c864fc438e18" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga102b03f1e7083e6ec238c864fc438e18">AVG_SPEED</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Computed Average Speed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4653087e4d2deccaf2f685236780eacf"></a><!-- doxytag: member="BroFist::SET_SPEED" ref="ga4653087e4d2deccaf2f685236780eacf" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga4653087e4d2deccaf2f685236780eacf">SET_SPEED</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Set PID Controlled Speed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7235481a21fc46d0534161c40cb10ee5"></a><!-- doxytag: member="BroFist::SET_POWER" ref="ga7235481a21fc46d0534161c40cb10ee5" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bro_fist.html#ga7235481a21fc46d0534161c40cb10ee5">SET_POWER</a>&nbsp;&nbsp;&nbsp;9</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integer representation for Set RAW Power. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This module declares the common data types for the project. </p>
<p>It also defines the values of the various operations implemented in BROFist and the encoding for the 7 NXT ports.</p>
<h2><a class="anchor" id="BroOperations">
Implemented Operations:</a></h2>
<p>There are 8 types of operations, the first 6 are used to request the values of sensors:</p>
<ul>
<li><code>LIGHT_SENSOR:</code> Used to request the value of a Light Sensor. The sensor's value will be a number spanning from 0 to 1023. However, every kind of test highlighted that the "realistic" values will span between 400 and 700. This is due to the vicinity of the led to the sensor.</li>
<li><code>TOUCH_SENSOR:</code> Used to request the value of a Touch Sensor. The sensor's value will be either 1, if the sensor is "touching" something, or 0, if it's not "touching" anything.</li>
<li><code>SOUND_SENSOR:</code> Used to request the value of a Sound Sensor. The sensor's value will be a number spanning from 0 to 1023, the lower the value, the higher the sound.</li>
<li><code>RADAR_SENSOR:</code> Used to request the value of an Ultrasonic Sensor for Distance. The sensor's value will be a number spanning from 1 to 255, which are the centimeters of distance between the sensor and an obstacle in front of it.</li>
<li><code>TACHO_COUNT:</code> Used to request the value of the revolution count in degree of a Servo Motor.</li>
<li><code>AVG_SPEED:</code> Used to request the average speed in Degree per second of a Servo Motor.</li>
</ul>
<p>The last 2 are used to set the speed or the power for Servo Motors:</p>
<ul>
<li><code>SET_POWER:</code> Used to set the RAW power for a Servo Motor.</li>
<li><code>SET_SPEED:</code> Used to set the Speed in Degree per Second for a Servo Motor. This speed is controlled by the PID Controller implemented inside the Client for the SPAM. For this, please refer to the update_powers() function.</li>
</ul>
<h3><a class="anchor" id="FutureImp">
Future Improvements</a></h3>
<p>Since the nxtOSEK team sometimes releases new features the system is open for new implementations, such as the RS485 control. BROFists can be easily improved by adding a new operation and then modifying the decode_bro_input() function in spam/BRO_spam_fist.c file.</p>
<h2><a class="anchor" id="BroFistStruct">
The TRUE BROFists</a></h2>
<p>The BROfist system uses defined structures to send operations and ports to the SPAM. This is useful since it eases the implementations of future features, since every function that works with Fists uses methods to dinamically update its value based on the dimension of a <a class="el" href="structbro__fist__t.html" title="The structure containing a &quot;Fist&quot; for the SPAM.">bro_fist_t</a>. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga2bd586ea01c91051e9db186c12f4464b"></a><!-- doxytag: member="bro_fist.h::BRO_END_COMMUNICATION" ref="ga2bd586ea01c91051e9db186c12f4464b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRO_END_COMMUNICATION&nbsp;&nbsp;&nbsp;255</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The value that has to be sent to stop the server. </p>
<p>Will there be ever more than 10 operations? XD </p>

</div>
</div>
<a class="anchor" id="ga6b20d41d6252e9871430c242cb1a56e7"></a><!-- doxytag: member="bro_fist.h::BUFFER_SIZE" ref="ga6b20d41d6252e9871430c242cb1a56e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_SIZE&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of simultaneous operations to send/recv. </p>
<p>This has been set as 7 since the ports on the NXT are 7. For further insight on this issue, please read <a class="el" href="group___b_r_o_cos_comm.html#Why7">Why only 7 requests?</a>. </p>

</div>
</div>
<a class="anchor" id="ga6312573a3fccab201c412ad9ba7bafe6"></a><!-- doxytag: member="bro_fist.h::SERVER_PATH" ref="ga6312573a3fccab201c412ad9ba7bafe6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVER_PATH&nbsp;&nbsp;&nbsp;&quot;/tmp/BROFist&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Server path for the UNIX socket. </p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Sat Aug 21 12:09:01 2010 for BROFist by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
